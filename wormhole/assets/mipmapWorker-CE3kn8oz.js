(function(){"use strict";function u(s,e,c,l,t){let a=0;return a+=(e/255)**s,a+=(c/255)**s,a+=(l/255)**s,a+=(t/255)**s,a/=4,a**(1/s)*255}onmessage=s=>{let e=s.data;const c=[];let l=5;for(;e.width>1;){const t=e.width/2,a=new ImageData(t,t);for(let n=0;n<t;n++)for(let o=0;o<t;o++){const i=o+n*t,r=o*2+n*2*t*2,g=o*2+(n*2+1)*t*2,m=o*2+1+n*2*t*2,p=o*2+1+(n*2+1)*t*2;for(let d=0;d<3;d++)a.data[i*4+d]=u(l,e.data[r*4+d],e.data[g*4+d],e.data[m*4+d],e.data[p*4+d]);a.data[i*4+3]=255}l*=.75,c.push(a),e=a}postMessage(c,c.map(t=>t.data.buffer))}})();
